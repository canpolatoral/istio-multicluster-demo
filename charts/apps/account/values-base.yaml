# Default values for account.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.
base-ms-chart:

  nameOverride: "account-service"
  fullnameOverride: "account-service"

  image:
    repository: canpolatoral/receiver-service
    pullPolicy: IfNotPresent
    tag: "1.0.8"

  peerAuthentication:
    enabled: true
    
    mtls:
      mode: STRICT

  requestAuthentication:
    enabled: true

    jwtRules:
      - issuer: test-issuer
        jwksUri: http://keycloak.svc.keycloak/realms/test/protocol/openid-connect/certs

  authorizationPolicy:
    enabled: true

    allowedServiceAccounts:
      - namespace: transfer
        serviceAccount: transfer-service
      - namespace: istio-system
        serviceAccount: istio-ingressgateway
      # - namespace: customer
      #   serviceAccount: customer-service\

    allowedClients:
      - issuer: test-issuer
        clientId: test-client-id

  # resources:
  #   requests:
  #     cpu: "0m"
  #     memory: "0Mi"
  #   limits:
  #     cpu: "500m"
  #     memory: "256Mi"
