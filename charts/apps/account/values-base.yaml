# Default values for account.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.
base-ms-chart:

  nameOverride: "account-service"
  fullnameOverride: "account-service"

  image:
    repository: canpolatoral/receiver-service
    pullPolicy: IfNotPresent
    tag: "latest"

  mtls:
    mode: STRICT

  authorizationPolicy:
    enabled: true

    allowedSources:
      - namespace: transfer
        serviceAccount: transfer-service
      # - namespace: customer
      #   serviceAccount: customer-service

  virtualService:
    enabled: true

    hosts:
      - "multicluster.mydemo.com"
    gateways:
      - "istio-system/ingress-gateway"
    http:
      match:
        prefix: "/account"
      rewrite:
        uri: "/"
      route:
        destination:
          host: "account-service.account.svc.cluster.local"
          port:
            number: 80